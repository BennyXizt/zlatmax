<%
// Пример вызова в шаблоне (EJS):
//
// <\%- include('src/ejs/components/icon.ejs', { 
//	icon_component: {
//		this: {
//			parent: 'parentClass',
//			block: 'childBlockClass',
//			class: ['childClass'],
//			id: ['childID'],
//			tag: 'div',
//			style: ['customStyle'],
//			dataAttribute: ['customDataAttributes'], 
//		},
//		name: 'iconName'
//	}
//	}) %>
%>
<%
	if(
		(typeof icon_component === 'undefined' || !icon_component) &&
		(typeof icon_component.name === 'undefined' || !icon_component.name)
	) {
		return
	}

	icon_component.this = {
		...icon_component.this,
		tag: icon_component.this?.tag ?? 'svg'
	}
	
	var {blockClass, thisClass, thisID, thisTag, thisStyles, thisDataAttributes} = externe.setupEJSComponent({...icon_component, componentName: 'icon'})
%>

<% if(thisTag === 'svg') { %>
	<svg <%-thisDataAttributes%> class='<%=thisClass%>' <%-thisID%> <%-thisStyles%>>
		<use href="/media/icons/sprite.svg#<%= icon_component.name%>"></use>   
	</svg>
<% } else { %>
	<<%=thisTag%> <%-thisDataAttributes%> class='<%=thisClass%>' <%-thisID%> <%-thisStyles%>>
		<svg>
			<use href="/media/icons/sprite.svg#<%= icon_component.name%>"></use>   
		</svg>
	</<%=thisTag%>>
<% } %>